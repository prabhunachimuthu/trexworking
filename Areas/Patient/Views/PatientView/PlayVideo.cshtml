@using Microsoft.AspNetCore.Mvc
@using Microsoft.AspNetCore.Http
@using Highsoft.Web.Mvc.Stocks
@using OneDirect.Helper
@using OneDirect.ViewModels
@using Newtonsoft.Json

@model OneDirect.Models.Library

@section styles{
    <style type="text/css">
        .btn-group-xs > .btn, .btn-xs {
            padding: 1px 1px;
            font-size: 12px;
            line-height: 1.2;
            border-radius: 3px;
            margin-top: 1px;
        }

        .circle {
            background-color: slateblue;
            border-color: white;
            border-radius: 50%;
            border-width: 1px;
            height: 45px;
            width: 45px;
            padding-bottom: 0;
        }
        /*#myIframe {
            position: relative;
            height: 100%;
            width: 100%;
        }*/
    </style>
}
<style>
    #label label-primary pull-right {
        float: right !important;
    }

    #pull-right {
        float: right !important;
    }
</style>
<div class="section product product-list shop" style="padding-top:15px">
    <div class="container">
        @*<div class="pages-head">
            <h3 style="color:white">Library</h3>
        </div>*@
        <div class="row">
            @if (Model != null)
            {
                <div class="col s12">
                    <div class="content">

                        @if (@Model.Url.Contains("youtube"))
                        {
                            <iframe id="myIframe" src="https://www.youtube.com/embed/@Model.Url.Split("/").Last().Split("=").Last()" scrolling="no" frameborder="0"></iframe>
                        }
                        else if (@Model.Url.Contains("vimeo"))
                        {
                            <iframe id="myIframe" src="@Model.Url" scrolling="no" frameborder="0"></iframe>
                        }
                        else
                        {
                            <video class="video" width="100%" height="100%" controls="" autoplay>
                                <!-- MP4 must be first for iPad! -->
                                <source src="@Model.Url" type="video/mp4"><!-- Safari / iOS, IE9 -->
                                <source src="@Model.Url" type="video/webm"><!-- Chrome10+, Ffx4+, Opera10.6+ -->
                                <source src="@Model.Url" type="video/ogg"><!-- Firefox3.6+ / Opera 10.5+ -->
                                <!-- fallback to Flash: -->
                            </video>
                        }
                        @if (!string.IsNullOrEmpty(Model.Url))
                        {
                            <h6 style="color:white"><a href="" style="color:white">@Model.Url.Split("/").Last().Split("=").Last()</a></h6>
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            //$(".video").get(0).play();
            $("#myIframe").attr("width", $(".content").width());
            $("#myIframe").attr("height", $("#renderbody").height()-50);
        });
    </script>
}





